const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: 'how to answer this questions "question = [ \n      "What do you know about our company?",\n      "How do you prioritize your work?",\n      "What motivates you?",\n      "How do you handle feedback?",\n      "What do you expect from your manager or team?",\n      "What is your greatest achievement?",\n      "What skills would you like to develop in this role?",\n      "How would your peers or professors describe you?",\n      "What kind of work environment do you prefer?",\n      "Are you comfortable working independently?",\n  ]" ,as fresher i am applying for post "web developer" ,with job description "Work closely with the various internal teams to publish high-quality, informative, and engaging website content that adheres to brand voice and style guidelines \nEdit and revise existing website content for accuracy, clarity, and best practices.\nManage the quality control aspect for all web properties.\nUpload and format content using a variety of CMS platforms, with a primary focus on Drupal/WordPress.\nMaintain a keen eye for detail to ensure content is free of errors and adheres to visual style guides.\nStay up-to-date on current web content trends and best practices.\nWork with developers to assist with implementing various search and performance website improvements." .include question: that i provide. Answer: answer the question. method: method to answer the question.also add resourse and tips.in json formate.',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "questions": [\n    {\n      "question": "What do you know about our company?",\n      "answer": "I\'ve researched your company and am impressed by [mention specific achievements, projects, or values that resonate with you]. I particularly admire your commitment to [mention something specific like innovation, customer service, or social responsibility]. I believe my skills and passion for web development align well with your company\'s goals, and I\'m eager to contribute to your success.",\n      "method": "Research the company thoroughly. Identify their key achievements, values, and recent projects. Mention specific details that show you\'ve done your homework. Highlight how your skills and interests align with their goals.",\n      "resources": "Company website, news articles, social media, LinkedIn profiles of key employees.",\n      "tips": "Be genuine and enthusiastic. Demonstrate your interest in the company and its mission."\n    },\n    {\n      "question": "How do you prioritize your work?",\n      "answer": "I prioritize tasks based on their urgency and importance. I use a combination of [mention specific methods like task management tools, to-do lists, or prioritization matrices] to keep track of deadlines and ensure I\'m working on the most critical tasks first. I\'m also open to adjusting priorities based on new information or changes in deadlines.",\n      "method": "Explain your approach to prioritizing tasks. Mention any tools or techniques you use. Emphasize your flexibility and ability to adapt to changing demands.",\n      "resources": "Time management resources, project management tools like Trello or Asana.",\n      "tips": "Provide concrete examples of how you have prioritized work in the past. Avoid vague statements and focus on results."\n    },\n    {\n      "question": "What motivates you?",\n      "answer": "I\'m motivated by [mention specific motivators like challenges, learning opportunities, or contributing to a team]. I thrive in environments where I can [mention specific desires like take ownership, solve problems, or make a tangible impact]. I\'m also driven by a desire to continuously learn and improve my skills in web development.",\n      "method": "Identify your genuine motivators and connect them to the job description. Show enthusiasm and a desire for growth. Be honest and authentic.",\n      "resources": "Reflect on your past experiences and what has driven you to succeed.",\n      "tips": "Avoid clichés and focus on your personal values and aspirations."\n    },\n    {\n      "question": "How do you handle feedback?",\n      "answer": "I value constructive feedback and see it as an opportunity to grow. I\'m open to receiving feedback, both positive and negative, and I actively seek to understand the reasoning behind it. I use feedback to identify areas for improvement and implement changes to enhance my performance.",\n      "method": "Show that you\'re open to feedback and willing to learn. Explain how you approach feedback and use it to improve your work. Emphasize your growth mindset.",\n      "resources": "Reflect on past experiences where you received feedback and how you used it.",\n      "tips": "Provide a specific example of how you implemented feedback to improve a project."\n    },\n    {\n      "question": "What do you expect from your manager or team?",\n      "answer": "I expect clear communication, constructive feedback, and support from my manager and team. I believe collaboration and open communication are essential for success, and I value a supportive and encouraging work environment where I can learn and grow. I also expect clear goals and objectives for the projects I\'m working on.",\n      "method": "Focus on key expectations related to teamwork, communication, and learning. Emphasize your desire to contribute to a collaborative environment.",\n      "resources": "Reflect on your past experiences and identify what worked well in terms of team dynamics and management style.",\n      "tips": "Avoid making demands and focus on what you can contribute to the team."\n    },\n    {\n      "question": "What is your greatest achievement?",\n      "answer": "One of my greatest achievements was [mention a specific accomplishment related to web development or a relevant skill].  I was able to [explain the challenge you overcame or the impact you made] and I learned [mention the key takeaways or skills you gained]. This experience demonstrated my [mention the specific skills or qualities that the achievement showcased]."\n      "method": "Choose an achievement that demonstrates skills relevant to the job description. Explain the challenge, your contribution, and the outcome. Highlight the skills or qualities you developed.",\n      "resources": "Review your past projects, coursework, or volunteer experiences.",\n      "tips": "Be specific and provide concrete examples. Quantify your achievements whenever possible."\n    },\n    {\n      "question": "What skills would you like to develop in this role?",\n      "answer": "I\'m eager to develop my skills in [mention specific areas like a particular CMS platform, a new coding language, or SEO optimization]. I believe this role will provide valuable opportunities to learn and grow in these areas. I\'m also interested in exploring [mention any other relevant skills or technologies that you\'re interested in]."\n      "method": "Identify skills that are relevant to the job description and your career goals. Show a willingness to learn and adapt. Mention specific areas you want to develop.",\n      "resources": "Review the job description and consider what skills you can further develop in that role.",\n      "tips": "Demonstrate a genuine desire to learn and contribute to the company\'s success."\n    },\n    {\n      "question": "How would your peers or professors describe you?",\n      "answer": "My peers and professors would describe me as [mention positive adjectives like reliable, collaborative, detail-oriented, and a quick learner]. I strive to be a team player and contribute positively to the projects I\'m involved in. I\'m also known for being [mention any other positive qualities that are relevant to the role].",\n      "method": "Reflect on how others perceive you. Choose adjectives that align with the job requirements and demonstrate your strengths. Be honest and authentic.",\n      "resources": "Seek feedback from peers, professors, or mentors.",\n      "tips": "Use specific examples to illustrate your qualities. Avoid clichés or generic descriptions."\n    },\n    {\n      "question": "What kind of work environment do you prefer?",\n      "answer": "I thrive in a collaborative and fast-paced environment where I can learn from others and contribute to a team effort. I enjoy [mention specific aspects of the work environment like open communication, regular feedback, or a collaborative culture]. I believe a positive and supportive environment is essential for creativity and productivity.",\n      "method": "Describe your preferred work environment, focusing on aspects that align with the company\'s culture. Mention any specific preferences you have for communication, collaboration, or work style.",\n      "resources": "Research the company\'s culture and values. Talk to people who work there to understand their experiences.",\n      "tips": "Be honest and authentic about your preferences. Avoid making demands or unrealistic expectations."\n    },\n    {\n      "question": "Are you comfortable working independently?",\n      "answer": "Yes, I am comfortable working independently and taking initiative. I\'m able to manage my time effectively and prioritize tasks to ensure deadlines are met. I also enjoy collaborating with others and value teamwork, but I\'m confident in my ability to work autonomously when needed.",\n      "method": "Demonstrate that you can work independently while also highlighting your team-oriented approach. Emphasize your self-motivation and ability to manage your workload.",\n      "resources": "Reflect on past experiences where you worked independently or took on projects with minimal supervision.",\n      "tips": "Provide specific examples of times when you worked independently and achieved positive results."\n    }\n  ]\n}\n```\n',
        },
      ],
    },
  ],
});
